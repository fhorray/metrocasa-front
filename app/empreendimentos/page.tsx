'use client';

import { EmpreendimentoList } from '@/components/EmpreendimentoList/empreendimento-list';
import { HeroSection } from '@/components/page-components/hero-section';
import { Loading } from '@/components/loading';

import { useImoveis } from '@/contexts/imoveis-context';

import { useSearchParams } from 'next/navigation';
import { Header } from '@/components/globals/Header';
import { Filter } from '@/components/globals/Filter';

const EmpreendimentosPage = () => {
  const { imoveis } = useImoveis();

  const searchParams = useSearchParams();
  const region = searchParams.get('region');
  const status = searchParams.get('status');
  const search = searchParams.get('search');
  const zone = searchParams.get('zone');

  return (
    <>
      <Header />
      {imoveis.length ? (
        <div>
          <HeroSection title={'Empreendimentos'} />
          <Filter />
          <EmpreendimentoList
            region={region}
            status={status}
            search={search}
            zone={zone}
          />
        </div>
      ) : (
        <Loading />
      )}
    </>
  );
};

export default EmpreendimentosPage;
